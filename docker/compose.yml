services:
  cpp:
    build:
      context: ../
      dockerfile: ./docker/Dockerfile
      platforms:
        - "linux/amd64"
        - "linux/arm64"
      target: deps
    image: ghcr.io/fruzitent/my_music_tool-cpp:latest
    pull_policy: if_not_present
    volumes:
      - cpp_data:/workspaces/

volumes:
  cpp_data:
